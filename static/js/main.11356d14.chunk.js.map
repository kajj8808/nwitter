{"version":3,"sources":["fbase.js","components/Nweet.js","components/NweetFactory.js","routes/Home.js","components/AuthForm.js","components/AuthSocial.js","routes/Auth.js","routes/Profile.js","components/Navigation.js","components/Router.js","components/GlobalStyles.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","NweetContainer","styled","div","AttachmentBox","img","NweetBox","EditBtnContainer","TextSpan","span","Profile","Header","Main","CreatorUser","h2","Nweet","nweetObj","isOwer","userName","useState","editing","setEditing","text","newNweet","setNewNweet","editToggle","setEditToggle","toggleEditing","prev","onDeleteClick","a","window","confirm","doc","id","delete","attchmentUrl","refFromURL","onSubmit","event","update","onChange","value","target","required","type","onClick","creatorName","creatorId","createdAt","nowTime","Date","createdTime","getFullYear","getMonth","getDay","getHours","getMinutes","getSeconds","getTime","createAt","attachmentUrl","src","FormContainer","form","NweetSubmitBtn","input","Factory","ImagePreview","FactoryFooter","PreviewContainer","ImageCloseBtn","button","AttachLabel","label","NweetFactory","userObj","nweet","setNweet","attachment","setAttachment","preventDefault","attachmentRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","now","displayName","collection","add","placeholder","maxLength","icon","faTimes","color","htmlFor","faPlus","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","Boolean","readAsDataURL","style","opacity","Home","nweets","setNweets","useEffect","orderBy","onSnapshot","snapshot","newArray","docs","map","documnet","data","InputBox","props","inputType","ToggleBtn","AuthForm","email","setEmail","password","setPassword","newAccount","setNewAccount","error","setError","name","createUserWithEmailAndPassword","signInWithEmailAndPassword","message","SocialBtn","SocialContainer","Social","onSocialClick","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","faGoogle","faGithub","AuthContainer","Auth","faTwitter","size","marginBottom","AuthSocial","refreshUser","newDisplayName","setNewDisplayName","history","useHistory","updateProfile","signOut","push","NavList","ul","ProfileLink","Link","Navigation","to","faUser","RouteContainer","AppRouter","isLoggedIn","exact","path","globalStyles","createGlobalStyle","reset","App","init","setInit","userObject","setUserObject","onAuthStateChanged","user","args","GlobalStyles","currentUser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.11356d14.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const firebaseInstance = firebase;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();","import { dbService, storageService } from 'fbase';\r\nimport { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst fontSize = 18;\r\n\r\nconst NweetContainer = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-top: 18px;\r\n`;\r\n\r\nconst AttachmentBox = styled.img`\r\n  width: 505px;\r\n  height: 285px;\r\n  border-radius: 13px;\r\n  object-fit: cover;\r\n  object-position: center top;\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst NweetBox = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst EditBtnContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  gap: 5px;\r\n`;\r\n\r\nconst TextSpan = styled.span`\r\n  white-space: normal;\r\n  word-break: break-all;\r\n  font-size: ${fontSize}px;\r\n`;\r\n\r\nconst Profile = styled.div`\r\n  width: 56px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  background-color: #ff7979;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  gap: 2px;\r\n`;\r\n\r\nconst Main = styled.div`\r\n  width: 505px;\r\n`;\r\n\r\nconst CreatorUser = styled.h2`\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Nweet = ({ nweetObj, isOwer, userName }) => {\r\n  /* edit 하는 상태. 토글 관리. */\r\n  const [editing, setEditing] = useState(false);\r\n  /* 새로운 nweet(수정) obj.text 를 가져와서 기존 트윗이 보이도록 초기값. */\r\n  const [newNweet, setNewNweet] = useState(nweetObj.text);\r\n\r\n  const [editToggle, setEditToggle] = useState(false);\r\n\r\n  const toggleEditing = () => setEditing((prev) => !prev);\r\n\r\n  const onDeleteClick = async () => {\r\n    const ok = window.confirm('삭제하시겠습니까?');\r\n    if (ok) {\r\n      /* docmnet id 값을 찾아서 삭제합니다. */\r\n      await dbService.doc(`nweets/${nweetObj.id}`).delete();\r\n      if (nweetObj.attchmentUrl !== '') {\r\n        await storageService.refFromURL(nweetObj.attchmentUrl).delete();\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChange = (event) => {\r\n    const { value } = event.target;\r\n    setNewNweet(value);\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    //event.preventDefault();\r\n    await dbService.doc(`nweets/${nweetObj.id}`).update({ text: newNweet });\r\n  };\r\n\r\n  const onEditBtn = () => {\r\n    setEditToggle(!editToggle);\r\n  };\r\n\r\n  const getTime = (createdAt) => {\r\n    const nowTime = new Date();\r\n    const createdTime = new Date(createdAt);\r\n    let result = '';\r\n    // 만든날짜 계산\r\n    if (nowTime.getFullYear() !== createdTime.getFullYear()) {\r\n      //년\r\n      result = `${nowTime.getFullYear() - createdTime.getFullYear()}년`;\r\n    } else if (nowTime.getMonth() !== createdTime.getMonth()) {\r\n      //월\r\n      result = `${nowTime.getMonth() - createdTime.getMonth()}월`;\r\n    } else if (nowTime.getDay() !== createdTime.getDay()) {\r\n      //일\r\n      result = `${nowTime.getDay() - createdTime.getDay()}일`;\r\n    } else if (nowTime.getHours() !== createdTime.getHours()) {\r\n      //시\r\n      result = `${nowTime.getHours() - createdTime.getHours()}시`;\r\n    } else if (nowTime.getMinutes() !== createdTime.getMinutes()) {\r\n      //분\r\n      result = `${nowTime.getMinutes() - createdTime.getMinutes()}분`;\r\n    } else {\r\n      //초\r\n      result = `${nowTime.getSeconds() - createdTime.getSeconds()}초`;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  return (\r\n    <div key={nweetObj.id}>\r\n      {editing ? (\r\n        <>\r\n          <form onSubmit={onSubmit}>\r\n            <input onChange={onChange} value={newNweet} required />\r\n            <input type=\"submit\" value=\"Update Nweet\" />\r\n          </form>\r\n          <button onClick={toggleEditing}>Cancel</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <NweetContainer>\r\n            <Profile />\r\n            <NweetBox>\r\n              <Header>\r\n                <CreatorUser>{nweetObj.creatorName}</CreatorUser>\r\n                <h5>@{nweetObj.creatorId}</h5>\r\n                <h5>·{getTime(nweetObj.createAt)}</h5>\r\n                {isOwer && <button onClick={onEditBtn}> Edit </button>}\r\n              </Header>\r\n              <Main>\r\n                <TextSpan>{nweetObj.text}</TextSpan>\r\n                {isOwer && editToggle && (\r\n                  <EditBtnContainer>\r\n                    <button onClick={onDeleteClick}>Delete Nweet</button>\r\n                    <button onClick={toggleEditing}>Update Nweet</button>\r\n                  </EditBtnContainer>\r\n                )}\r\n              </Main>\r\n              {nweetObj.attachmentUrl && (\r\n                <AttachmentBox src={nweetObj.attachmentUrl}></AttachmentBox>\r\n              )}\r\n            </NweetBox>\r\n          </NweetContainer>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Nweet;\r\n","//Home.js 가 상위.\r\nimport { useState } from 'react';\r\nimport { dbService, storageService } from 'fbase';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport styled from 'styled-components';\r\n\r\nconst FormContainer = styled.form`\r\n  width: 505px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst NweetSubmitBtn = styled.input`\r\n  background-color: #ff7979;\r\n  padding: 10px;\r\n  border-radius: 30px;\r\n`;\r\n\r\nconst Profile = styled.div`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  background-color: #ff7979;\r\n`;\r\n\r\nconst Factory = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n`;\r\n\r\nconst ImagePreview = styled.img`\r\n  width: 505px;\r\n  height: 285px;\r\n  border-radius: 13px;\r\n  object-fit: cover;\r\n  object-position: center top;\r\n`;\r\n\r\nconst FactoryFooter = styled.div`\r\n  margin-top: 10px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst PreviewContainer = styled.div`\r\n  margin-top: 40px;\r\n  position: relative;\r\n`;\r\n\r\nconst ImageCloseBtn = styled.button`\r\n  position: absolute;\r\n  left: 5px;\r\n  top: 5px;\r\n  border: none;\r\n  padding: 8px;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  text-align: center;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n  }\r\n`;\r\n\r\nconst AttachLabel = styled.label``;\r\n\r\nconst NweetFactory = ({ userObj }) => {\r\n  /* 게시글 */\r\n  const [nweet, setNweet] = useState('');\r\n  /* (첨부파일) image */\r\n  const [attachment, setAttachment] = useState('');\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (nweet === '') {\r\n      return;\r\n    }\r\n    let attachmentUrl = '';\r\n    if (attachment !== '') {\r\n      const attachmentRef = storageService\r\n        .ref()\r\n        .child(`${userObj.uid}/${uuidv4()}`);\r\n      const response = await attachmentRef.putString(attachment, 'data_url');\r\n      attachmentUrl = await response.ref.getDownloadURL();\r\n    }\r\n\r\n    const nweetObj = {\r\n      text: nweet,\r\n      createAt: Date.now(),\r\n      // 만든 유저 id\r\n      creatorId: userObj.uid,\r\n      creatorName: userObj.displayName,\r\n      attachmentUrl,\r\n    };\r\n    await dbService.collection('nweets').add(nweetObj);\r\n\r\n    setNweet('');\r\n    setAttachment('');\r\n  };\r\n\r\n  const onChange = (event) => {\r\n    event.preventDefault();\r\n    const { value } = event.target;\r\n    setNweet(value);\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    const { files } = event.target;\r\n    const theFile = files[0];\r\n    /* broser api? */\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      const { result } = finishedEvent.currentTarget;\r\n      setAttachment(result);\r\n    };\r\n    if (Boolean(theFile)) {\r\n      reader.readAsDataURL(theFile);\r\n    }\r\n  };\r\n\r\n  /* 실시간 데이터 베이스 사용을위해 주석처리. */\r\n  /*  const getNweets = async () => {\r\n    const dbNweets = await dbService.collection('nweets').get();\r\n    dbNweets.forEach((documnet) => {\r\n      //update / delte 를위해 id 를 추가하는 부분. \r\n      const nweetObject = { ...documnet.data(), id: documnet.id };\r\n      setNweets((prev) => [nweetObject, ...prev]);\r\n    });\r\n  }; */\r\n  const onClaerAttachment = () => setAttachment('');\r\n  return (\r\n    <Factory>\r\n      <Profile></Profile>\r\n      <FormContainer onSubmit={onSubmit}>\r\n        <input\r\n          value={nweet}\r\n          onChange={onChange}\r\n          type=\"text\"\r\n          placeholder=\"What's on your mind?\"\r\n          maxLength={120}\r\n        ></input>\r\n        {attachment && (\r\n          <PreviewContainer>\r\n            <ImagePreview src={attachment} />\r\n            <ImageCloseBtn onClick={onClaerAttachment}>\r\n              <FontAwesomeIcon icon={faTimes} color=\"white\" />\r\n            </ImageCloseBtn>\r\n          </PreviewContainer>\r\n        )}\r\n        <FactoryFooter>\r\n          <AttachLabel htmlFor=\"attach-file\">\r\n            <span>Add Photos</span>\r\n            <FontAwesomeIcon icon={faPlus} />\r\n          </AttachLabel>\r\n          <input\r\n            id=\"attach-file\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={onFileChange}\r\n            style={{ opacity: 0 }}\r\n          />\r\n          <NweetSubmitBtn type=\"submit\" value=\"Nweet\" />\r\n        </FactoryFooter>\r\n      </FormContainer>\r\n    </Factory>\r\n  );\r\n};\r\n\r\nexport default NweetFactory;\r\n","import { useState, useEffect } from 'react';\r\nimport { dbService } from 'fbase';\r\nimport Nweet from 'components/Nweet';\r\nimport NweetFactory from 'components/NweetFactory';\r\nimport styled from 'styled-components';\r\n\r\nconst NweetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: #ffff;\r\n  gap: 30px;\r\n`;\r\n\r\nconst Home = ({ userObj }) => {\r\n  const [nweets, setNweets] = useState([]);\r\n  useEffect(() => {\r\n    /* 실시간 데이터베이스 */\r\n    dbService\r\n      .collection('nweets')\r\n      .orderBy('createAt', 'desc')\r\n      .onSnapshot((snapshot) => {\r\n        const newArray = snapshot.docs.map((documnet) => ({\r\n          id: documnet.id,\r\n          ...documnet.data(),\r\n        }));\r\n        setNweets(newArray);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <NweetContainer>\r\n      <NweetFactory userObj={userObj} />\r\n      <div>\r\n        {nweets.map((nweet) => (\r\n          <Nweet\r\n            key={nweet.id}\r\n            nweetObj={nweet}\r\n            isOwer={nweet.creatorId === userObj.uid}\r\n          />\r\n        ))}\r\n      </div>\r\n    </NweetContainer>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { authService } from 'fbase';\r\nimport { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst FormContainer = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 350px;\r\n  gap: 10px;\r\n`;\r\n\r\nconst InputBox = styled.input`\r\n  background-color: ${(props) => (props.inputType ? '#ff7979' : 'white')};\r\n  border-radius: 30px;\r\n  color: ${(props) => (props.inputType ? '#ffff' : 'black')};\r\n  text-align: ${(props) => (props.inputType ? 'center' : '')};\r\n  &:hover {\r\n    background-color: ${(props) =>\r\n      props.inputType ? 'rgba(255,121,121,0.9)' : 'white'};\r\n  }\r\n  padding: 10px;\r\n`;\r\n\r\nconst ToggleBtn = styled.div`\r\n  text-align: center;\r\n  text-decoration: underline;\r\n`;\r\n\r\nconst AuthForm = () => {\r\n  /* 쓰는 state 들  */\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [newAccount, setNewAccount] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  //input 입력을위해서.\r\n  const onChange = (event) => {\r\n    const { name, value } = event.target;\r\n    if (name === 'email') {\r\n      setEmail(value);\r\n    } else if (name === 'password') {\r\n      setPassword(value);\r\n    }\r\n  };\r\n  //authService 로 데이터전송.\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      if (newAccount) {\r\n        //create new Account\r\n        await authService.createUserWithEmailAndPassword(email, password);\r\n      } else {\r\n        //log in\r\n        await authService.signInWithEmailAndPassword(email, password);\r\n      }\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n  //로그인 / 만들기 를 바꿈.\r\n  const toggleAccount = () => setNewAccount((prev) => !prev);\r\n\r\n  return (\r\n    <div>\r\n      <FormContainer onSubmit={onSubmit}>\r\n        <InputBox\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Eamil\"\r\n          required\r\n          value={email}\r\n          onChange={onChange}\r\n        />\r\n        <InputBox\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={onChange}\r\n        />\r\n        <InputBox\r\n          type=\"submit\"\r\n          value={newAccount ? 'Create Account' : 'Log In'}\r\n          inputType={'submit'}\r\n        />\r\n        <br />\r\n        {error}\r\n      </FormContainer>\r\n      <ToggleBtn onClick={toggleAccount}>\r\n        {newAccount ? 'Sign In' : 'Create Account'}\r\n      </ToggleBtn>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import { authService, firebaseInstance } from 'fbase';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faGoogle, faGithub } from '@fortawesome/free-brands-svg-icons';\r\nimport styled from 'styled-components';\r\n\r\nconst SocialBtn = styled.button`\r\n  background-color: white;\r\n  border: none;\r\n  border-radius: 30px;\r\n  padding: 12px;\r\n  &:hover{\r\n    background-color: rgba(255,255,255,0.9);\r\n  }\r\n`;\r\n\r\nconst SocialContainer = styled.div`\r\n  width: 350px;\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  \r\n`;\r\n\r\nconst Social = () => {\r\n  const onSocialClick = async (event) => {\r\n    const { name } = event.target;\r\n    let provider;\r\n    if (name === 'google') {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    } else if (name === 'github') {\r\n      provider = new firebaseInstance.auth.GithubAuthProvider();\r\n    }\r\n    await authService.signInWithPopup(provider);\r\n  };\r\n  return (\r\n    <SocialContainer>\r\n      <SocialBtn onClick={onSocialClick} name=\"google\">\r\n        Continue with Google <FontAwesomeIcon icon={faGoogle} />\r\n      </SocialBtn>\r\n      <SocialBtn onClick={onSocialClick} name=\"github\">\r\n        Continue with Github <FontAwesomeIcon icon={faGithub} />\r\n      </SocialBtn>\r\n    </SocialContainer>\r\n  );\r\n};\r\n\r\nexport default Social;\r\n","import AuthForm from 'components/AuthForm';\r\nimport AuthSocial from 'components/AuthSocial';\r\n//import styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons';\r\nimport styled from 'styled-components';\r\n\r\nconst AuthContainer = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  display : flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  color: white;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst Auth = () => {\r\n  return (\r\n    <AuthContainer>\r\n      <FontAwesomeIcon\r\n        icon={faTwitter}\r\n        color={'#ff7979'}\r\n        size=\"3x\"\r\n        style={{ marginBottom: '20px' }}\r\n      />\r\n      <AuthForm />\r\n      <AuthSocial />\r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import { useState, useEffect } from 'react';\r\nimport { authService, dbService } from 'fbase';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Nweet from 'components/Nweet';\r\n\r\nconst Profile = ({ userObj , refreshUser}) => {\r\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n  const history = useHistory();\r\n  const onLogOutClick = () => {\r\n    authService.signOut();\r\n    /* home 으로 이동 history 는 push 방식으로 동작. */\r\n    history.push('/');\r\n  };\r\n\r\n  const onChange = (event) => {\r\n    const { value } = event.target;\r\n    setNewDisplayName(value);\r\n  };\r\n  \r\n  const onSubmit = async (event) =>{\r\n    event.preventDefault();\r\n    if(userObj.displayName !== newDisplayName){\r\n      await userObj.updateProfile({displayName : newDisplayName});\r\n      // update 를 한후 실시간으로 데이터를 받기위해 사용.!\r\n      refreshUser();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          onChange={onChange}\r\n          type=\"text\"\r\n          placeholder=\"Display name\"\r\n          value={newDisplayName}\r\n        />\r\n        <input type=\"submit\" value=\"Update Profile\" />\r\n      </form>\r\n      <button onClick={onLogOutClick}>Log Out</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport styled from 'styled-components';\r\n\r\nconst NavList = styled.ul`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 50px;\r\n  gap: 20px;\r\n`;\r\n\r\nconst ProfileLink = styled(Link)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n  gap: 10px;\r\n  color: #ffff;\r\n`\r\n\r\nconst Navigation = ({ userObj }) => {\r\n  return (\r\n    <nav>\r\n      <NavList>\r\n        <li>\r\n          <Link to=\"/\">\r\n            <FontAwesomeIcon icon={faTwitter} color={'#ff7979'} size=\"2x\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <ProfileLink to=\"/profile\">\r\n            <FontAwesomeIcon icon={faUser} color={'#ff7979'} size=\"2x\" />\r\n            <span>\r\n              {userObj.displayName\r\n                ? `${userObj.displayName}의 Profile`\r\n                : 'Profile'}\r\n            </span>\r\n          </ProfileLink>\r\n        </li>\r\n      </NavList>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Home from 'routes/Home';\r\nimport Auth from 'routes/Auth';\r\nimport Profile from 'routes/Profile';\r\nimport Navigation from './Navigation';\r\nimport styled from 'styled-components';\r\n\r\nconst RouteContainer = styled.div`\r\n  max-width: 890px;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  margin-top: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst AppRouter = ({ isLoggedIn, userObj, refreshUser }) => {\r\n  return (\r\n    <Router>\r\n      {isLoggedIn && <Navigation userObj={userObj} />}\r\n      {/* Switch => Route 중 하나만 렌더링하게. */}\r\n      <Switch>\r\n        {isLoggedIn ? (\r\n          <RouteContainer>\r\n            <Route exact path=\"/\">\r\n              <Home userObj={userObj} />\r\n            </Route>\r\n            <Route exact path=\"/profile\">\r\n              <Profile userObj={userObj} refreshUser={refreshUser} />\r\n            </Route>\r\n          </RouteContainer>\r\n        ) : (\r\n          <Route path=\"/\">\r\n            <Auth />\r\n          </Route>\r\n        )}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import {createGlobalStyle} from \"styled-components\";\r\nimport reset from \"styled-reset\";\r\n\r\nconst globalStyles = createGlobalStyle`\r\n    ${reset};\r\n    *{\r\n        box-sizing:border-box;\r\n    }\r\n    a{\r\n        text-decoration:none;\r\n    }\r\n    input{\r\n        all:unset;\r\n        box-sizing : border-box;\r\n        appearance : none;\r\n    }\r\n    body{\r\n        font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n        background-color: #000000;\r\n    }\r\n`;\r\n\r\nexport default globalStyles;","import AppRouter from 'components/Router';\nimport { useEffect, useState } from 'react';\nimport { authService } from 'fbase';\nimport GlobalStyles from 'components/GlobalStyles';\n\nfunction App() {\n  /* 로그인 되있는상태 이라면 홈페이지로 넘겨주기위해서 사용합니다.(자동로그인?) */\n  const [init, setInit] = useState(false);\n  /* loogin 햇는지를 알고 user 를얻기위해 사용합니다. */\n  const [userObject, setUserObject] = useState(null);\n  // user data를 새로고침 해서 실시간데이터를 받기위해 사용.\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObject({\n      uid: user.uid,\n      displayName: user.displayName,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObject({\n          uid: user.uid,\n          displayName: user.displayName ? user.displayName : user.email,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        //login 햇는지 안햇는지를 확인함.\n        setUserObject(false);\n      }\n      setInit(true);\n    });\n  }, []);\n  return (\n    <>\n      <GlobalStyles />\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObject)}\n          userObj={userObject}\n        />\n      ) : (\n        'initializing...'\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}